<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="好鸭笔记本（x" name="description"/>
<meta content="Gooduck Z" name="author"/>
<link href="../.." rel="prev"/>
<link href="../../cs50ai/0/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.14" name="generator"/>
<title>matplotlib 笔记 - Gooduck的笔记本</title>
<link href="../../assets/stylesheets/main.113286f1.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.a0c5b2b5.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../css/heti.css" rel="stylesheet"/>
<link href="../../css/collapse.css" rel="stylesheet"/>
<link href="../../css/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="" data-md-color-primary="white" data-md-color-scheme="indigo" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#matplotlib">
          跳转至
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="页眉" class="md-header__inner md-grid">
<a aria-label="Gooduck的笔记本" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Gooduck的笔记本">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Gooduck的笔记本
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              matplotlib 笔记
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="white" data-md-color-scheme="indigo" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="搜索" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="搜索" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="查找" class="md-search__options">
<button aria-label="清空当前内容" class="md-search__icon md-icon" tabindex="-1" title="清空当前内容" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/GooduckZ/note/" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GooduckZ/note
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="导航栏" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Gooduck的笔记本" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Gooduck的笔记本">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Gooduck的笔记本
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/GooduckZ/note/" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GooduckZ/note
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        主页
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Python 相关
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Python 相关
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          matplotlib 笔记
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        matplotlib 笔记
      </a>
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    基本内容
  </a>
<nav aria-label="基本内容" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    运行的基本方式
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    各个对象的含义
  </a>
<nav aria-label="各个对象的含义" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#figure">
    Figure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#axes">
    Axes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#axis">
    Axis
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#artist">
    Artist
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    输入数据类型
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    细节处理
  </a>
<nav aria-label="细节处理" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    修改颜色
  </a>
<nav aria-label="修改颜色" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
    折线图
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
    散点图
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
    颜色的表示
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
    修改线宽、线型与标记的大小
  </a>
<nav aria-label="修改线宽、线型与标记的大小" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
    线型的表示
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
    标记样式的表示
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
    设置标签
  </a>
<nav aria-label="设置标签" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
    设置轴标签与文本
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_15">
    修改字体
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_16">
    设置刻度与刻度标签
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_17">
    使用数学表达式
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_18">
    注释
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_19">
    图例
  </a>
<nav aria-label="图例" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_20">
    设置图例位置
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_21">
    更多操作
  </a>
<nav aria-label="更多操作" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_22">
    更多坐标轴
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_23">
    使用颜色映射展示第三维坐标
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#axes_1">
    创建多个Axes
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          CS50AI 学习笔记
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          CS50AI 学习笔记
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs50ai/0/">
        0.Search
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cs50ai/1/">
        1.Knowledge
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="目录" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目录
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    基本内容
  </a>
<nav aria-label="基本内容" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    运行的基本方式
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    各个对象的含义
  </a>
<nav aria-label="各个对象的含义" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#figure">
    Figure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#axes">
    Axes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#axis">
    Axis
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#artist">
    Artist
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    输入数据类型
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    细节处理
  </a>
<nav aria-label="细节处理" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    修改颜色
  </a>
<nav aria-label="修改颜色" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
    折线图
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
    散点图
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
    颜色的表示
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
    修改线宽、线型与标记的大小
  </a>
<nav aria-label="修改线宽、线型与标记的大小" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
    线型的表示
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
    标记样式的表示
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
    设置标签
  </a>
<nav aria-label="设置标签" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
    设置轴标签与文本
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_15">
    修改字体
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_16">
    设置刻度与刻度标签
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_17">
    使用数学表达式
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_18">
    注释
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_19">
    图例
  </a>
<nav aria-label="图例" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_20">
    设置图例位置
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_21">
    更多操作
  </a>
<nav aria-label="更多操作" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_22">
    更多坐标轴
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_23">
    使用颜色映射展示第三维坐标
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#axes_1">
    创建多个Axes
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="matplotlib"><span>matplotlib<span class="heti-spacing"> </span></span>学习笔记<a class="headerlink" href="#matplotlib" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h1>
<div class="admonition abstract">
<p class="admonition-title">摘要</p>
<ul>
<li><span>python<span class="heti-spacing"> </span></span>的<a href="https://matplotlib.org/"><span class="heti-skip"><span class="heti-spacing"> </span>matplotlib<span class="heti-spacing"> </span></span>库</a>，用于制作图表的强大工具，<del>主要是普物实验还用得上欸</del></li>
<li>参考了<a href="https://matplotlib.org/stable/tutorials">官方教程</a>与《<span>Python<span class="heti-spacing"> </span></span>编程——从入门到实践》一书的部分内容</li>
</ul>
</div>
<h2 id="_1">基本内容<a class="headerlink" href="#_1" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h2>
<h3 id="_2">运行的基本方式<a class="headerlink" href="#_2" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p><del>首先当然得有<span class="heti-skip"><span class="heti-spacing"> </span>matplotlib<span class="heti-spacing"> </span></span>库哈</del></p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>matplotlib
</code></pre></div>
<p>然后是代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>  <span class="c1"># Create a figure containing a single axes.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># Plot some data on the axes.</span>
</code></pre></div>
<p>结果如下图：</p>
<p><img alt="pic1" src="https://gooduckz.github.io/note/assets/images/plt/pic1.jpg"/></p>
<p>此外还有另一种写法：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><strong>使用<code>plot</code>函数绘制折线图，使用<code>scatter</code>函数绘制散点图，使用<code>bar</code>函数绘制直方图</strong></p>
<p>前者显式创建了<span class="heti-skip"><span class="heti-spacing"> </span>Figure<span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span>Axes<span class="heti-spacing"> </span></span>对象，并调用了它们（即“面向对象<span class="heti-skip"><span class="heti-spacing"> </span>(OO)<span class="heti-spacing"> </span></span>风格”），而后者依靠<span class="heti-skip"><span class="heti-spacing"> </span>pyplot<span class="heti-spacing"> </span></span>隐式创建和管理图形和坐标轴，并使用<span class="heti-skip"><span class="heti-spacing"> </span>pyplot<span class="heti-spacing"> </span></span>函数进行绘图。</p>
<div class="admonition quote">
<p class="admonition-title">官方文档</p>
<p>In general, we suggest using the OO style, particularly for complicated plots, and functions and scripts that are intended to be reused as part of a larger project. However, the pyplot style can be very convenient for quick interactive work.</p>
</div>
<p>官方建议在面对复杂绘图时使用<span class="heti-skip"><span class="heti-spacing"> </span>OO<span class="heti-spacing"> </span></span>风格 <del>但是像我这种水平也妹有画很复杂的图的时候所以其实大概关系不大（</del></p>
<p>不过对<span class="heti-skip"><span class="heti-spacing"> </span>plt<span class="heti-spacing"> </span></span>中的各个对象的了解还是很有必要的</p>
<h3 id="_3">各个对象的含义<a class="headerlink" href="#_3" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p><img alt="pic2" src="https://gooduckz.github.io/note/assets/images/plt/pic2.jpg"/></p>
<h4 id="figure"><code>Figure</code><a class="headerlink" href="#figure" title="Permanent link">¶</a></h4>
<p>即整个图像。创建方法<code>fig = plt.figure()</code>，可以设置<code>figsize</code>参数调整图像大小。</p>
<h4 id="axes"><code>Axes</code><a class="headerlink" href="#axes" title="Permanent link">¶</a></h4>
<div class="admonition quote">
<p class="admonition-title">官方文档</p>
<p>An Axes is an Artist attached to a Figure that contains a region for plotting data, and usually includes two (or three in the case of 3D) Axis objects (be aware of the difference between Axes and Axis) that provide ticks and tick labels to provide scales for the data in the Axes. Each Axes also has a title (set via set_title()), an x-label (set via set_xlabel()), and a y-label set via set_ylabel()).</p>
</div>
<p>虽然<span class="heti-skip"><span class="heti-spacing"> </span>Axes<span class="heti-spacing"> </span></span>字面意思上是<span class="heti-skip"><span class="heti-spacing"> </span>"Axis"<span class="heti-spacing"> </span></span>的复数形式，但在这里<span class="heti-skip"><span class="heti-spacing"> </span>Axes<span class="heti-spacing"> </span></span>所包含的并非仅仅是坐标轴。可以把<span class="heti-skip"><span class="heti-spacing"> </span>Axes<span class="heti-spacing"> </span></span>理解为你要放到画布上的各个物体，且<span class="heti-skip"><span class="heti-spacing"> </span>Axes<span class="heti-spacing"> </span></span>下可以修改编辑的变量非常多，基本上能满足所有作图需求。</p>
<h4 id="axis"><code>Axis</code><a class="headerlink" href="#axis" title="Permanent link">¶</a></h4>
<p>坐标轴，可以设置位置与标签。创建方法<code>ax.axis([x1, x2, y1, y2])</code>或<code>plt.axis([x1, x2, y1, y2])</code>。刻度的位置由<code>Locator</code>对象确定，刻度标签字符串由<code>Formatter</code>格式化。正确的<code>Locator</code>和<code>Formatter</code>的组合可以很好地控制刻度位置和标签。</p>
<h4 id="artist"><code>Artist</code><a class="headerlink" href="#artist" title="Permanent link">¶</a></h4>
<p>上述的以及图中可见的内容几乎都是一个<code>Artist</code>。</p>
<h3 id="_4">输入数据类型<a class="headerlink" href="#_4" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<div class="admonition quote">
<p class="admonition-title">官方文档</p>
<p>Plotting functions expect numpy.array or numpy.ma.masked_array as input, or objects that can be passed to numpy.asarray. Classes that are similar to arrays ('array-like') such as pandas data objects and numpy.matrix may not work as intended. Common convention is to convert these to numpy.array objects prior to plotting</p>
</div>
<p>总之就是传入可以被当作<span class="heti-skip"><span class="heti-spacing"> </span>array<span class="heti-spacing"> </span></span>的对象。当然<span class="heti-skip"><span class="heti-spacing"> </span>list<span class="heti-spacing"> </span></span>就可以直接用。建议使用<a href="https://www.numpy.org"><span class="heti-skip"><span class="heti-spacing"> </span>Numpy<span class="heti-spacing"> </span></span></a>以解锁更多操作<span><span class="heti-spacing"> </span>~</span></p>
<p>此外还支持了可寻址对象例如<span><span class="heti-spacing"> </span>dict</span>。官方给出的示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">19680801</span><span class="p">)</span>  <span class="c1"># seed the random number generator.</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
        <span class="s1">'c'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
        <span class="s1">'d'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">)}</span>
<span class="n">data</span><span class="p">[</span><span class="s1">'b'</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'a'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s1">'d'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'d'</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="s1">'constrained'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">'c'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">'d'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'entry a'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'entry b'</span><span class="p">)</span>
</code></pre></div>
<p><img alt="pic3" src="https://gooduckz.github.io/note/assets/images/plt/pic3.jpg"/></p>
<p><del>玩得还挺花是不是（</del></p>
<h2 id="_5">细节处理<a class="headerlink" href="#_5" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h2>
<h3 id="_6">修改颜色<a class="headerlink" href="#_6" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<h4 id="_7">折线图<a class="headerlink" href="#_7" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>调用<code>plot</code>函数时修改<code>color</code>参数即可。</p>
<h4 id="_8">散点图<a class="headerlink" href="#_8" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>同样在<code>scatter</code>函数内修改参数，不过散点图有散点的内部颜色<code>facecolor</code>与边缘的颜色<code>edgecolor</code>，两者的颜色可以不同。</p>
<h4 id="_9">颜色的表示<a class="headerlink" href="#_9" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p><span>Matplotlib<span class="heti-spacing"> </span></span>支持多种方式的颜色表示包括<span class="heti-skip"><span class="heti-spacing"> </span>RGB/RGBA<span class="heti-spacing"> </span></span>元组、<span>RGB/RGBA<span class="heti-spacing"> </span></span>十六进制字符串、<span>[0, 1]<span class="heti-spacing"> </span></span>之间的灰度值（注意是字符串<heti-adjacent class="heti-adjacent-half">！</heti-adjacent><heti-adjacent class="heti-adjacent-half">）</heti-adjacent>、以及常见的颜色单词等等</p>
<blockquote>
<p>'b' as blue </p>
<p>'g' as green </p>
<p>'r' as red </p>
<p>'c' as cyan </p>
<p>'m' as magenta </p>
<p>'y' as yellow </p>
<p>'k' as black </p>
<p>'w' as white </p>
</blockquote>
<h3 id="_10">修改线宽、线型与标记的大小<a class="headerlink" href="#_10" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p><code>plot</code>函数内设置参数<code>marker</code>、<code>linestyle</code>、<code>linewidth</code>与<code>markersize</code></p>
<p>例如：</p>
<div class="highlight"><pre><span></span><code><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'dashed'</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</code></pre></div>
<p>样式如下图：</p>
<p><img alt="pic4" src="https://gooduckz.github.io/note/assets/images/plt/pic4.jpg"/></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>此处传入的参数还可以改成<code>'go--'</code>，其中<span class="heti-skip"><span class="heti-spacing"> </span>'g'<span class="heti-spacing"> </span></span>为颜色，<span>'o'<span class="heti-spacing"> </span></span>为标记样式，<span>'--'<span class="heti-spacing"> </span></span>表示线的形状。既方便又形象有没有<span><span class="heti-spacing"> </span>~</span></p>
</div>
<h4 id="_11">线型的表示<a class="headerlink" href="#_11" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<ul>
<li><code>'solid'</code> <span>or<span class="heti-spacing"> </span></span><code>(0, ())</code><span>or<span class="heti-spacing"> </span></span><code>'-'</code><span>:<span class="heti-spacing"> </span></span>实线</li>
<li><code>'dotted'</code> <span>or<span class="heti-spacing"> </span></span><code>(0, (1, 1))</code><span>or<span class="heti-spacing"> </span></span><code>':'</code><span>:<span class="heti-spacing"> </span></span>点线</li>
<li><code>'dashed'</code> <span>or<span class="heti-spacing"> </span></span><code>'--'</code><span>:<span class="heti-spacing"> </span></span>短划线</li>
<li><code>'dashdot'</code> <span>or<span class="heti-spacing"> </span></span><code>'-.'</code><span>:<span class="heti-spacing"> </span></span>点划线</li>
</ul>
<p>上面出现的形如<code>'(offset, (on_off-seq))'</code>的表示方法使线型更为多样。例如，<code>(0, (3, 10, 1, 15))</code>表示（<span>3pt<span class="heti-spacing"> </span></span>线，<span>10pt<span class="heti-spacing"> </span></span>空间，<span>1pt<span class="heti-spacing"> </span></span>线，<span>15pt<span class="heti-spacing"> </span></span>空间）没有偏移，而<code>(5, (10, 3))</code>表示（<span>10pt<span class="heti-spacing"> </span></span>线，<span>3pt<span class="heti-spacing"> </span></span>空间），但跳过第一个<span class="heti-skip"><span class="heti-spacing"> </span>5pt<span class="heti-spacing"> </span></span>线。</p>
<h4 id="_12">标记样式的表示<a class="headerlink" href="#_12" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>标记样式还是很多的（见<a href="https://matplotlib.org/stable/api/markers_api.html">官网</a>）比较有用的基本上就那么几个：</p>
<blockquote>
<p><code>'.'</code> 点</p>
<p><code>'o'</code> 圆</p>
<p><code>'^'</code> 三角形</p>
<p><code>'v'</code> 倒三角形</p>
<p><code>'s'</code> 正方形</p>
<p><code>'*'</code> 五角星</p>
<p><code>'D'</code> 正方形转<span><span class="heti-spacing"> </span>45°</span></p>
<p><code>'d'</code> 菱形</p>
<p><code>','</code> 像素</p>
<p><code>'x'</code> 叉</p>
</blockquote>
<p>上面除了最后两个以外都是“Filled markers”，这些标记可以设置填充样式<code>fillstyle</code>（包括<code>'full'</code>、<code>'left'</code>、<code>'right'</code>、<code>'bottom'</code>、<code>'top'</code><heti-adjacent class="heti-adjacent-half">、</heti-adjacent><code>'none'</code>）</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><span>marker<span class="heti-spacing"> </span></span>还可以使用<code>'$...$'</code>的形式来使用<span class="heti-skip"><span class="heti-spacing"> </span>mathtex<span class="heti-spacing"> </span></span>呈现字符串。例如<code>"$f$"</code>表示显示字母<code>f</code>的标记。</p>
</div>
<p>还有很多 <del>花里胡哨的</del> 样式就不写了</p>
<h3 id="_13">设置标签<a class="headerlink" href="#_13" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<h4 id="_14">设置轴标签与文本<a class="headerlink" href="#_14" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>在显式<span><span class="heti-spacing"> </span>API</span>（即<span class="heti-skip"><span class="heti-spacing"> </span>OO<span class="heti-spacing"> </span></span>风格）中使用<code>set_xlabel</code>、<code>set_ylabel</code>、<code>set_title</code>、<code>text</code>、<code>annotate</code>等函数在指定位置添加文本。</p>
<p>在隐式<span><span class="heti-spacing"> </span>API</span>（即使用<span class="heti-skip"><span class="heti-spacing"> </span>plt<span class="heti-spacing"> </span></span>的方式）中使用<code>xlabel</code>、<code>ylabel</code>、<code>title</code>、<code>suptitle</code>、<code>text</code>、<code>figtext</code>、<code>annotate</code>等函数。其中<code>title</code>、<code>text</code>、<code>annotate</code>用于修改<code>Axes</code>中的文本，<code>suptitle</code>、<code>figtext</code>用于修改<code>Figure</code>中的文本。</p>
<p><del>虽然平时<span class="heti-skip"><span class="heti-spacing"> </span>Figure<span class="heti-spacing"> </span></span>跟<span class="heti-skip"><span class="heti-spacing"> </span>Axes<span class="heti-spacing"> </span></span>差别不大啦</del></p>
<p>附上官方的演示代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.85</span><span class="p">)</span>

<span class="c1"># Set titles for the figure and the subplot respectively</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">'bold figure suptitle'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">'bold'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'axes title'</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'xlabel'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'ylabel'</span><span class="p">)</span>

<span class="c1"># Set both x- and y-axis limits to [0, 10] instead of default [0, 1]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>

<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">'boxed italics text in data coords'</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">'italic'</span><span class="p">,</span>
        <span class="n">bbox</span><span class="o">=</span><span class="p">{</span><span class="s1">'facecolor'</span><span class="p">:</span> <span class="s1">'red'</span><span class="p">,</span> <span class="s1">'alpha'</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">'pad'</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>

<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="sa">r</span><span class="s1">'an equation: $E=mc^2$'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'Unicode: Institut für Festkörperphysik'</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="s1">'colored text in axes coords'</span><span class="p">,</span>
        <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">'bottom'</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">'right'</span><span class="p">,</span>
        <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s1">'green'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">'o'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">'annotate'</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
            <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.05</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>结果如下：</p>
<p><img alt="pic5" src="https://gooduckz.github.io/note/assets/images/plt/pic5.jpg"/></p>
<p>上面的例子基本上就把所有可用的函数都用上了，其实很多也不太常用 <del>所以大多不再细究</del>。</p>
<p>其中在设置坐标轴的标签时，<span>x<span class="heti-spacing"> </span></span>和<span class="heti-skip"><span class="heti-spacing"> </span>y<span class="heti-spacing"> </span></span>标签会自动放置，要移动标签可以指定关键字<code>labelpad</code>的参数（单位为<span><span class="heti-spacing"> </span>pt</span>），或者使用<code>position</code>参数（格式<code>(x, y)</code>）改变位置。</p>
<div class="admonition warning">
<p class="admonition-title">注意</p>
<p>无法使用<code>position</code>参数修改<span class="heti-skip"><span class="heti-spacing"> </span>x<span class="heti-spacing"> </span></span>标签的<span class="heti-skip"><span class="heti-spacing"> </span>y<span class="heti-spacing"> </span></span>坐标或<span class="heti-skip"><span class="heti-spacing"> </span>y<span class="heti-spacing"> </span></span>标签的<span class="heti-skip"><span class="heti-spacing"> </span>x<span class="heti-spacing"> </span></span>坐标。如要修改，请使用<code>labelpad</code>。</p>
</div>
<p>设置标题与设置标签的方式大致相同，但也可以使用<code>loc</code>参数（<code>'center'</code>、<code>'left'</code>或<code>'right'</code>）设置标题位置与对齐方式，垂直间距则用<code>pad</code>参数控制。</p>
<h4 id="_15">修改字体<a class="headerlink" href="#_15" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>可以通过操作<code>matplotlib.font_manager.FontProperties</code>方法或通过<code>set_xlabel</code>的命名关键字参数来更改</p>
<p>示例代码：</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">matplotlib.font_manager</span> <span class="kn">import</span> <span class="n">FontProperties</span>

<span class="n">font</span> <span class="o">=</span> <span class="n">FontProperties</span><span class="p">()</span>
<span class="n">font</span><span class="o">.</span><span class="n">set_family</span><span class="p">(</span><span class="s1">'serif'</span><span class="p">)</span>
<span class="n">font</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s1">'Times New Roman'</span><span class="p">)</span>
<span class="n">font</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">'italic'</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'Time [s]'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">'large'</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">'bold'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">'Damped oscillation [V]'</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>结果如下：</p>
<p><img alt="pic6" src="https://gooduckz.github.io/note/assets/images/plt/pic6.jpg"/></p>
<div class="admonition question">
<p class="admonition-title">如何知道我有哪些字体？</p>
<p>在终端使用<code>fc-list</code>命令。还可以使用<code>fc-list :lang=zh family</code>命令查看有哪些支持中文的字体。</p>
</div>
<h3 id="_16">设置刻度与刻度标签<a class="headerlink" href="#_16" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>除线性标度以外，<span>Matplotlib<span class="heti-spacing"> </span></span>还提供非线性标度如对数标度，使用<code>set_xscale</code>与<code>set_xscale</code>来改变标度。支持的标度有<code>'log'</code><span class="heti-skip"><span class="heti-spacing"> </span>,<span class="heti-spacing"> </span></span><code>'symlog'</code><span><span><span class="heti-spacing"> </span>,</span><span class="heti-spacing"> </span></span><code>'logit'</code>等等。同时支持自定义函数标度，例如：</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">inverse</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">'function'</span><span class="p">,</span> <span class="n">functions</span><span class="o">=</span><span class="p">(</span><span class="n">forward</span><span class="p">,</span> <span class="n">inverse</span><span class="p">))</span>
</code></pre></div>
<p>标度则为<span class="arithmatex">\(f(x)=x^\frac{1}{2}\)</span>。</p>
<p>当需要修改刻度的格式与标签时，建议使用库<span class="heti-skip"><span class="heti-spacing"> </span>中的locat<span class="heti-spacing"> </span></span><span><span><span class="heti-spacing"> </span>or</span><span class="heti-spacing"> </span></span>与<span><span class="heti-spacing"> </span>formatter</span>。</p>
<p><del>这部分基本上也是没啥用，下次再补上好了（</del></p>
<div class="admonition info">
<p class="admonition-title">Update 2023.4.20</p>
<p><del>在<a href="https://github.com/GooduckZ/ZJU_phylab/blob/main/%E4%B8%87%E7%94%A8%E8%A1%A8%E7%9A%84%E8%AE%BE%E8%AE%A1.py">万用表的设计</a>里头还真用上了🤡</del></p>
</div>
<p>此处最有用的部分应该是设置刻度的有效位数等数据，你可以自己生成一个格式字符串列表然后直接用<code>xaxis.set_ticks</code>和<code>xaxis.set_ticklabels</code>但是官方并不建议这样做，因为这破坏了“交互式导航”并重置了坐标轴的限制范围。</p>
<p>简单的方法是使用格式字符串<code>matplotlib.ticker.StrMethodFormatter</code>（新式格式字符串）或<code>matplotlib.ticker.FormatStrFormatter</code>（<span class="heti-skip"><span class="heti-spacing"> </span>旧式'<span class="heti-spacing"> </span></span><span>%'<span class="heti-spacing"> </span></span>格式字符串），其中新式的可以直接用字符串表示 <del>而不需要写前面这么一长串玩意</del>.</p>
<p>例如：</p>
<div class="highlight"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
<span class="n">ticks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">8.1</span><span class="p">,</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="s1">'</span><span class="si">{x:1.1f}</span><span class="s1">'</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>结果如下：</p>
<p><img alt="pic7" src="https://gooduckz.github.io/note/assets/images/plt/pic7.jpg"/></p>
<p>其中<code>axs[1].xaxis.set_ticks(ticks)</code>设置了刻度，<code>axs[1].xaxis.set_major_formatter('{x:1.1f}')</code>使用新式格式字符串设置了刻度标签并设为保留小数点后一位，<code>axs[1].set_xlim(axs[0].get_xlim())</code>设<span class="heti-skip"><span class="heti-spacing"> </span>置<span class="heti-spacing"> </span></span>了<span><span><span class="heti-spacing"> </span>x</span><span class="heti-spacing"> </span></span>轴的显示范围。</p>
<p><del>这里其余<span class="heti-skip"><span class="heti-spacing"> </span>的就TO<span class="heti-spacing"> </span></span><span><span><span class="heti-spacing"> </span>DO</span><span class="heti-spacing"> </span></span>好了（</del></p>
<h3 id="_17">使用数学表达式<a class="headerlink" href="#_17" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>可以使用 <span class="arithmatex">\(\TeX\)</span> 进行渲染。例如用<code>ax.set_title(r'$\sigma_i=15$')</code>来表示 <span class="arithmatex">\(\sigma_i=15\)</span> 。其中<code>r</code>表示这是一个原始字符串<span><span class="heti-spacing"> </span>(raw string)</span>，于是反斜杠不会被视作转义字符。</p>
<h3 id="_18">注释<a class="headerlink" href="#_18" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>上文已出现过，就是通过一个箭头从<code>xytext</code>处连接到<code>xy</code>处</p>
<div class="highlight"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">))</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span>
<span class="n">line</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">'local max'</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">),</span>
            <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.05</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p><img alt="pic8" src="https://gooduckz.github.io/note/assets/images/plt/pic8.jpg"/></p>
<p><code>xy</code>与<code>xytext</code>还可以有其他坐标系可供选择，不再赘述。</p>
<h3 id="_19">图例<a class="headerlink" href="#_19" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>使用<code>legend</code>函数。</p>
<h4 id="_20">设置图例位置<a class="headerlink" href="#_20" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h4>
<p>在<code>legend</code>函数内修改<code>loc</code>参数。支持的参数有<code>'upper left', 'upper right', 'lower left', 'lower right'</code>（放置在相应角上）<code>'upper center', 'lower center', 'center left', 'center right'</code><span>(<span class="heti-spacing"> </span></span>放置在边缘<span class="heti-skip"><span class="heti-spacing"> </span>中<span class="heti-spacing"> </span></span>心<span><span><span class="heti-spacing"> </span>)</span><span class="heti-spacing"> </span></span><code>'center'</code>以及<code>'best'</code>，默认值为<code>'best'</code>。</p>
<p>在绘图时将<code>layout</code>参数设为<code>'constrained'</code>并在<code>loc</code>参数开头指定<code>'outside'</code>，可以将图例绘制在<code>Axes</code>之外。</p>
<div class="highlight"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot_mosaic</span><span class="p">([[</span><span class="s1">'left'</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">]],</span> <span class="n">layout</span><span class="o">=</span><span class="s1">'constrained'</span><span class="p">)</span>

<span class="n">axs</span><span class="p">[</span><span class="s1">'left'</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">"test1"</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="s1">'left'</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">"test2"</span><span class="p">)</span>

<span class="n">axs</span><span class="p">[</span><span class="s1">'right'</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">'C2'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"test3"</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="s1">'right'</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">'C3'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">"test4"</span><span class="p">)</span>
<span class="c1"># Place a legend to the right of this smaller subplot.</span>
<span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">'outside upper right'</span><span class="p">)</span>
</code></pre></div>
<p><img alt="pic9" src="https://gooduckz.github.io/note/assets/images/plt/pic9.jpg"/></p>
<p>注意，<span class="heti-skip"><span class="heti-spacing"> </span>其中"outside right uppe<span class="heti-spacing"> </span></span><span>r"<span class="heti-spacing"> </span></span>不同于<span><span class="heti-spacing"> </span>"outside upper right"</span>。示例如下：</p>
<div class="highlight"><pre><span></span><code><span class="n">ucl</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'upper'</span><span class="p">,</span> <span class="s1">'center'</span><span class="p">,</span> <span class="s1">'lower'</span><span class="p">]</span>
<span class="n">lcr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'left'</span><span class="p">,</span> <span class="s1">'center'</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">]</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="s1">'constrained'</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">'0.7'</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">'TEST'</span><span class="p">)</span>
<span class="c1"># Place a legend to the right of this smaller subplot.</span>
<span class="k">for</span> <span class="n">loc</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="s1">'outside upper left'</span><span class="p">,</span>
        <span class="s1">'outside upper center'</span><span class="p">,</span>
        <span class="s1">'outside upper right'</span><span class="p">,</span>
        <span class="s1">'outside lower left'</span><span class="p">,</span>
        <span class="s1">'outside lower center'</span><span class="p">,</span>
        <span class="s1">'outside lower right'</span><span class="p">]:</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">loc</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">loc</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="s1">'constrained'</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">'0.7'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">'test'</span><span class="p">)</span>

<span class="k">for</span> <span class="n">loc</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="s1">'outside left upper'</span><span class="p">,</span>
        <span class="s1">'outside right upper'</span><span class="p">,</span>
        <span class="s1">'outside left lower'</span><span class="p">,</span>
        <span class="s1">'outside right lower'</span><span class="p">]:</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">loc</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">loc</span><span class="p">)</span>
</code></pre></div>
<p><img alt="pic10" src="https://gooduckz.github.io/note/assets/images/plt/pic10.jpg"/></p>
<p><img alt="pic15" src="https://gooduckz.github.io/note/assets/images/plt/pic15.jpg"/></p>
<p>还可以在同一个<code>Axes</code>中使用多个图例。多次调用<code>legend()</code>函数是无效的，你只会在图中看到最新设置的图例。应该将旧的图例实例手动加入到<code>Axes</code>中，具体方法如下：</p>
<div class="highlight"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">line1</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">"Line 1"</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'--'</span><span class="p">)</span>
<span class="n">line2</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">"Line 2"</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># Create a legend for the first line.</span>
<span class="n">first_legend</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">line1</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s1">'upper right'</span><span class="p">)</span>

<span class="c1"># Add the legend manually to the Axes.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">first_legend</span><span class="p">)</span>

<span class="c1"># Create another legend for the second line.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">line2</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s1">'lower right'</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="pic11" src="https://gooduckz.github.io/note/assets/images/plt/pic11.jpg"/></p>
<h2 id="_21">更多操作<a class="headerlink" href="#_21" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h2>
<h3 id="_22">更多坐标轴<a class="headerlink" href="#_22" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>在同一张图表中有两组数量级不同的数据，有时可能需要额<span class="heti-skip"><span class="heti-spacing"> </span>外<span class="heti-spacing"> </span></span>的<span><span><span class="heti-spacing"> </span>y</span><span class="heti-spacing"> </span></span>轴，或者仅仅需要第二条单位不<span class="heti-skip"><span class="heti-spacing"> </span>同<span class="heti-spacing"> </span></span>的<span><span><span class="heti-spacing"> </span>x</span><span class="heti-spacing"> </span></span>轴。这种情况下，可以使用<code>twinx</code>以及<code>twiny</code>函数创建一个新的<code>Axes</code>，其中该新<code>Axes</code>与原来的<code>Axes</code>共用其中一条坐标轴。或者直接使用<code>secondary_xaxis</code>或<code>secondary_yaxis</code>添加第二条轴。</p>
<div class="highlight"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax3</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="s1">'constrained'</span><span class="p">)</span>
<span class="n">l1</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
<span class="n">l2</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)),</span> <span class="s1">'C1'</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">],</span> <span class="p">[</span><span class="s1">'Sine (left)'</span><span class="p">,</span> <span class="s1">'Straight (right)'</span><span class="p">])</span>

<span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'Angle [rad]'</span><span class="p">)</span>
<span class="n">ax4</span> <span class="o">=</span> <span class="n">ax3</span><span class="o">.</span><span class="n">secondary_xaxis</span><span class="p">(</span><span class="s1">'top'</span><span class="p">,</span> <span class="n">functions</span><span class="o">=</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">))</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">'Angle [°]'</span><span class="p">)</span>
</code></pre></div>
<p><img alt="pic12" src="https://gooduckz.github.io/note/assets/images/plt/pic12.jpg"/></p>
<h3 id="_23">使用颜色映射展示第三维坐标<a class="headerlink" href="#_23" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>暂时仅作展示：</p>
<div class="highlight"><pre><span></span><code><span class="n">X</span><span class="p">,</span> <span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">128</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
<span class="n">Z</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">X</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">X</span><span class="o">**</span><span class="mi">5</span> <span class="o">+</span> <span class="n">Y</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">X</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">Y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="s1">'constrained'</span><span class="p">)</span>
<span class="n">pc</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">'RdBu_r'</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">pc</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'pcolormesh()'</span><span class="p">)</span>

<span class="n">co</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">levels</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">co</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'contourf()'</span><span class="p">)</span>

<span class="n">pc</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Z</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">'plasma'</span><span class="p">,</span>
                          <span class="n">norm</span><span class="o">=</span><span class="n">mpl</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">LogNorm</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">100</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">pc</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">extend</span><span class="o">=</span><span class="s1">'both'</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'imshow() with LogNorm()'</span><span class="p">)</span>

<span class="n">pc</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">data3</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">'RdBu_r'</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">pc</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">extend</span><span class="o">=</span><span class="s1">'both'</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'scatter()'</span><span class="p">)</span>
</code></pre></div>
<p><img alt="pic13" src="https://gooduckz.github.io/note/assets/images/plt/pic13.jpg"/></p>
<h3 id="axes_1">创建多个<code>Axes</code><a class="headerlink" href="#axes_1" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h3>
<p>最基本的用法是多次调用<code>plt.subplot()</code>或<code>fig2, ax = plt.subplots()</code>。也可以使用其他方式实现更复杂的布局。例如使用<code>subplot_mosaic</code>函数可视化地构造布局。</p>
<div class="highlight"><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">axd</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot_mosaic</span><span class="p">([[</span><span class="s1">'upleft'</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">],</span>
                               <span class="p">[</span><span class="s1">'lowleft'</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">]],</span> <span class="n">layout</span><span class="o">=</span><span class="s1">'constrained'</span><span class="p">)</span>
<span class="n">axd</span><span class="p">[</span><span class="s1">'upleft'</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'upleft'</span><span class="p">)</span>
<span class="n">axd</span><span class="p">[</span><span class="s1">'lowleft'</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'lowleft'</span><span class="p">)</span>
<span class="n">axd</span><span class="p">[</span><span class="s1">'right'</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">'right'</span><span class="p">)</span>
</code></pre></div>
<p><img alt="pic" src="https://gooduckz.github.io/note/assets/images/plt/pic14.jpg"/></p>
<p>还可以用<code>'blank'</code>或者<code>'.'</code>表示空白区域。</p>
<h1 id="_24">总结<a class="headerlink" href="#_24" title="Permanent link"><span><span class="heti-spacing"> </span>¶</span></a></h1>
<p>这里大概仅包括了一些基本操作，事<span class="heti-skip"><span class="heti-spacing"> </span>实上matplotl<span class="heti-spacing"> </span></span><span><span><span class="heti-spacing"> </span>ib</span><span class="heti-spacing"> </span></span>的功能远远不止于此，不过这些部分也已经够大多数情况下的使用了， <del>更多的操作，以后再来探索吧！</del></p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
<script src="../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
<script src="../../js/mathjax.js"></script>
<script src="../../js/toc.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>